<include href="templates/header.html" />

<table>

<!-- Table Headers -->
<thead>
<tr>
<repeat group="{{ @fields }}" value="{{ @field }}">
<check if="{{ @field['display'] }}">
<true>
<th>{{ @field['name'] }}</th>
</true>
<false>
<th class="hidden">{{ @field['name'] }}</th>
</false>
</check>
</repeat>
</tr>
</thead>
<tbody>

<!-- Rows -->
<repeat group="{{ @rows }}" value="{{ @row }}">
<tr><form method="post">
 <repeat group="{{ @fields }}" key="{{ @field_key }}" value="{{ @field }}">
 <check if="{{ @field['display'] }}">
 <true>
 <td>
 </true>
 <false>
 <td class="hidden">
 </false>
 </check>
  <field key="{{ @field_key }}" row="{{ @row }}" />
 </td>
 </repeat>

 <td>
  <repeat group="{{ @fields }}" key="{{ @field_key }}" value="{{ @field }}">
  <check if="{{ @field['edit'] }}">
  <false>
  <input type="hidden" name="{{ @field_key }}" value="{{ @row[@field_key] }}" />
  </false>
  </check>
  </repeat>
  <input type="submit" name="action" value="Submit" />
 </td>
 <td><input type="submit" name="action" value="Delete" /></td>
</form></tr>
</repeat>

<!-- Input Form -->
<tr><form method="post">
 <repeat group="{{ @fields }}" key="{{ @field_key }}" value="{{ @field }}">
 <check if="{{ @field['display'] }}">
 <true>
 <td>
 </true>
 <false>
 <td class="hidden">
 </false>
 </check>
  <!-- <label for="{{ @field_key }}">{{ @field['name'] }}</label> -->
  <field key="{{ @field_key }}" />
 </td>
 </repeat>
 <td><input type="submit" value="Submit" /></td>
</form></tr>

</tbody>
</table>

<div id="nav">
<check if="{{ 0<@PARAMS.page }}">
<a id="nav_prev" href="{{ @PARAMS.page-1 }}">Previous</a>
</check>
<a id="nav_next" href="{{ @PARAMS.page+1 }}">Next</a>
</div>

<include href="templates/footer.html" />
