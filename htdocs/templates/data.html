<include href="templates/header.html" />

<table>

<!-- Table Headers -->
<thead>
<tr>
<repeat group="{{ @fields }}" value="{{ @field }}">
<check if="{{ @field['display'] }}">
<th>{{ @field['name'] }}</th>
</check>
</repeat>
</tr>
</thead>
<tbody>

<!-- Rows -->
<repeat group="{{ @rows }}" value="{{ @row }}">
<tr><form>
 <repeat group="{{ @fields }}" key="{{ @field_key }}" value="{{ @field }}">
 <check if="{{ @field['display'] }}">
 <td>
  <check if="{{ @field['edit'] }}">
  <true>
  <input name="{{ @field_key }}" value="{{ @row[@field_key] }}" />
  </true>
  <false>
  {{ @row[@field_key] }}
  </false>
  </check>
 </td>
 </check>
 </repeat>

 <td>
  <repeat group="{{ @fields }}" key="{{ @field_key }}" value="{{ @field }}">
  <check if="{{ @field['display'] && @field['edit'] }}">
  <false>
  <input type="hidden" name="{{ @field_key }}" value="{{ @row[@field_key] }}" />
  </false>
  </check>
  </repeat>
  <input type="submit" value="Submit" />
 </td>
</form></tr>
</repeat>

<!-- Input Form -->
<tr>
<form>
<repeat group="{{ @fields }}" key="{{ @field_key }}" value="{{ @field }}">
<check if="{{ @field['display'] }}">
<td>
<check if="{{ @field['edit'] }}">
<true>
<!-- <label for="{{ @field_key }}">{{ @field['name'] }}</label> -->
<input name="{{ @field_key }}" />
</true>
<false>
<input name="{{ @field_key }}" type="hidden" />
</false>
</check>
</td>
</check>
</repeat>
</form>
</tr>

</tbody>
</table>

<div id="nav">
<check if="{{ 0<@PARAMS.page }}">
<a id="nav_prev" href="{{ @PARAMS.page-1 }}">Previous</a>
</check>
<a id="nav_next" href="{{ @PARAMS.page+1 }}">Next</a>
</div>

<include href="templates/footer.html" />
